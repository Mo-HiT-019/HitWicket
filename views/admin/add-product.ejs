<%- include('../partials/admin-header') %>

<section>
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-6">
                <h2 class="text-center">Add Products</h2>
                <form id="addProductForm" action="/product/add-product" method="POST" enctype="multipart/form-data" onsubmit="return validateForm()">
                    <div class="form-group row">
                      <label for="name" class="col-sm-4 col-form-label">Name</label>
                      <div class="col-sm-8">
                        <input type="text" name="name" class="form-control"required>
                      </div>
                    </div>
      
                    <div class="form-group row">
                      <label for="category" class="col-sm-4 col-form-label">Category</label>
                      <div class="col-sm-8">
                        <select name="category" class="form-control">
                          <% categories.forEach(category=> { %>
                          <option value="<%= category._id %>">
                            <%= category.name %>
                          </option>
                          <% }) %>
                        </select>
                      </div>
                    </div>

<div class="form-group row">
  <label for="price" class="col-sm-4 col-form-label">Price</label>
  <div class="col-sm-8">
    <input type="text" name="price" class="form-control"required>
  </div>
</div>

<div class="form-group row">
  <label for="description" class="col-sm-4 col-form-label">Description</label>
  <div class="col-sm-8">
    <textarea name="description" class="form-control"required rows="4" placeholder="Enter your description"></textarea>
  </div>
</div>

<div class="form-group row">
  <label for="stock" class="col-sm-4 col-form-label">Stocks</label>
  <div class="col-sm-8">
    <input type="number" name="stock" class="form-control" min="0" required>
  </div>
</div>

<div class="form-group row">
  <label for="discount" class="col-sm-4 col-form-label">Discount</label>
  <div class="col-sm-8">
    <input type="number" name="discount" class="form-control" min="0" max="100">
  </div>
</div>

<div class="form-group row">
  <label for="startDate" class="col-sm-4 col-form-label">Start Date</label>
  <div class="col-sm-8">
    <input type="date" name="startDate" class="form-control">
  </div>
</div>

      
                    <div class="form-group row">
                      <label for="endDate" class="col-sm-4 col-form-label">End Date</label>
                      <div class="col-sm-8">
                        <input type="date" name="endDate" class="form-control">
                      </div>
                    </div>
      
                    <div class="form-group row">
                      <label for="images" class="col-sm-4 col-form-label">Image</label>
                      <div class="col-sm-8">
                        <input type="file" name="images"required class="form-control" multiple>
                      </div>
                    </div>
      
                    <div class="form-group row">
                      <div class="col-sm-8 offset-sm-4">
                        <button type="submit" class="btn btn-success mt-4" style="background-color: white; color: black;">Submit</button>
                      </div>
                    </div>
      
      
                  </form>
            </div>
        </div>
    </div>
</section>

<script>
  function validateForm() {
        const name = document.forms[0].name.value.trim();
        if (!name) {
            alert("Product name must be filled out.");
            return false;
        }
        return true;
    }
</script>
